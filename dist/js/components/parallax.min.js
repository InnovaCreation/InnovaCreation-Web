/*! UIkit 3.0.0-beta.35 | http://www.getuikit.com | (c) 2014 - 2017 YOOtheme | MIT License */

!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("uikitparallax",t):e.UIkitParallax=t()}(this,function(){"use strict";function e(t){function r(e,t){return s(s(e,"color",t),"color").split(/[(),]/g).slice(1,-1).concat(1).slice(0,4).map(function(e){return h(e)})}function i(e,t){var r=e.length-1,i=Math.min(Math.floor(r*t),r-1),a=e.slice(i,i+2);return a.push(1===t?1:t%(1/r)*r),a}function a(e,t){var r=i(e,t),a=r[0],n=r[1],o=r[2];return(p(a)?a+Math.abs(a-n)*o*(a<n?1:-1):+n).toFixed(2)}if(!e.installed){var n=t.mixin,o=t.util,s=o.css,c=o.Dimensions,u=o.each,l=o.getImage,f=o.includes,p=o.isNumber,d=o.isUndefined,h=o.toFloat,g=o.win,m=["x","y","bgx","bgy","rotate","scale","color","backgroundColor","borderColor","opacity","blur","hue","grayscale","invert","saturate","sepia","fopacity"];n.parallax={props:m.reduce(function(e,t){return e[t]="list",e},{media:"media"}),defaults:m.reduce(function(e,t){return e[t]=void 0,e},{media:!1}),computed:{props:function(e,t){var i=this;return m.reduce(function(a,n){if(d(e[n]))return a;var o,c,u,l=n.match(/color/i),p=l||"opacity"===n,g=e[n].slice(0);p&&s(t,n,""),g.length<2&&g.unshift(("scale"===n?1:p?s(t,n):0)||0);var m=f(g.join(""),"%")?"%":"px";if(l){var b=t.style.color;g=g.map(function(e){return r(t,e)}),t.style.color=b}else g=g.map(h);if(n.match(/^bg/))if(s(t,"background-position-"+n[2],""),c=s(t,"backgroundPosition").split(" ")["x"===n[2]?0:1],i.covers){var v=Math.min.apply(Math,g),k=Math.max.apply(Math,g),x=g.indexOf(v)<g.indexOf(k);u=k-v,g=g.map(function(e){return e-(x?v:k)}),o=(x?-u:0)+"px"}else o=c;return a[n]={steps:g,unit:m,pos:o,bgPos:c,diff:u},a},{})},bgProps:function(){var e=this;return["bgx","bgy"].filter(function(t){return t in e.props})},covers:function(e,t){return"cover"===s(""!==t.style.backgroundSize?s(t,"backgroundSize",""):t,"backgroundSize")}},disconnected:function(){delete this._image},update:[{read:function(e){var t=this;if(e.active=!this.media||g.matchMedia(this.media).matches,e.image&&(e.image.dimEl={width:this.$el.offsetWidth,height:this.$el.offsetHeight}),!("image"in e)&&this.covers&&this.bgProps.length){var r=s(this.$el,"backgroundImage").replace(/^none|url\(["']?(.+?)["']?\)$/,"$1");r&&(e.image=!1,l(r).then(function(r){e.image={width:r.naturalWidth,height:r.naturalHeight},t.$emit()}))}},write:function(e){var t=this,r=e.image,i=e.active;if(r)if(i){var a=r.dimEl,n=c.cover(r,a);this.bgProps.forEach(function(e){var i=t.props[e],o=i.diff,s=i.bgPos,u=i.steps,l="bgy"===e?"height":"width",f=n[l]-a[l];if(s.match(/%$|0px/)){if(f<o)a[l]=n[l]+o-f;else if(f>o){var p=parseFloat(s);p&&(t.props[e].steps=u.map(function(e){return e-(f-o)/(100/p)}))}n=c.cover(r,a)}}),s(this.$el,{backgroundSize:n.width+"px "+n.height+"px",backgroundRepeat:"no-repeat"})}else s(this.$el,{backgroundSize:"",backgroundRepeat:""})},events:["load","resize"]}],methods:{reset:function(){var e=this;u(this.getCss(0),function(t,r){return s(e.$el,r,"")})},getCss:function(e){var t=this.props,r=!1;return Object.keys(t).reduce(function(n,o){var s=t[o],c=s.steps,u=s.unit,l=s.pos,f=a(c,e);switch(o){case"x":case"y":if(r)break;var p=["x","y"].map(function(r){return o===r?f+u:t[r]?a(t[r].steps,e)+t[r].unit:0}),d=p[0],g=p[1];r=n.transform+=" translate3d("+d+", "+g+", 0)";break;case"rotate":n.transform+=" rotate("+f+"deg)";break;case"scale":n.transform+=" scale("+f+")";break;case"bgy":case"bgx":n["background-position-"+o[2]]="calc("+l+" + "+(f+u)+")";break;case"color":case"backgroundColor":case"borderColor":var m=i(c,e),b=m[0],v=m[1],k=m[2];n[o]="rgba("+b.map(function(e,t){return e+=k*(v[t]-e),3===t?h(e):parseInt(e,10)}).join(",")+")";break;case"blur":n.filter+=" blur("+f+"px)";break;case"hue":n.filter+=" hue-rotate("+f+"deg)";break;case"fopacity":n.filter+=" opacity("+f+"%)";break;case"grayscale":case"invert":case"saturate":case"sepia":n.filter+=" "+o+"("+f+"%)";break;default:n[o]=f}return n},{transform:"",filter:""})}}}}}function t(r){function i(e,t){return o(e*(1-(t-t*e)))}if(!t.installed){r.use(e);var a=r.mixin,n=r.util,o=n.clamp,s=n.css,c=n.scrolledOver,u=n.query;r.component("parallax",{mixins:[a.parallax],props:{target:String,viewport:Number,easing:Number},defaults:{target:!1,viewport:1,easing:1},computed:{target:function(e,t){var r=e.target;return r&&u(r,t)||t}},update:[{read:function(e){return{prev:e.percent,percent:i(c(this.target)/(this.viewport||1),this.easing)}},write:function(e,t){var r=e.prev,i=e.percent,a=e.active;"scroll"!==t.type&&(r=!1),a?r!==i&&s(this.$el,this.getCss(i)):this.reset()},events:["scroll","load","resize"]}]})}}return"undefined"!=typeof window&&window.UIkit&&window.UIkit.use(e),"undefined"!=typeof window&&window.UIkit&&window.UIkit.use(t),t});