/*! UIkit 3.0.0-beta.35 | http://www.getuikit.com | (c) 2014 - 2017 YOOtheme | MIT License */

!function(t,i){"object"==typeof exports&&"undefined"!=typeof module?module.exports=i():"function"==typeof define&&define.amd?define("uikitlightbox",i):t.UIkitLightbox=i()}(this,function(){"use strict";function t(t,i){return void 0===t&&(t=0),void 0===i&&(i="%"),"translateX("+t+(t?i:"")+")"}function i(t){return"scale3d("+t+", "+t+", 1)"}function e(t){function i(t,i){return"next"===t?1:"previous"===t?-1:t<i?-1:1}if(!e.installed){var s=t.util,o=s.$,r=s.assign,a=s.clamp,h=s.fastdom,c=s.getIndex,f=s.hasClass,p=s.isNumber,v=s.isRtl,m=s.Promise,g=s.toNodes,x=s.trigger;t.mixin.slider={attrs:!0,mixins:[u(t),l(t),d(t)],props:{clsActivated:Boolean,easing:String,index:Number,finite:Boolean,velocity:Number},defaults:{easing:"ease",finite:!1,velocity:1,index:0,stack:[],percent:0,clsActive:"uk-active",clsActivated:!1,Transitioner:!1,transitionOptions:{}},computed:{duration:function(t,i){var e=t.velocity;return n(i.offsetWidth/e)},length:function(){return this.slides.length},list:function(t,i){var e=t.selList;return o(e,i)},maxIndex:function(){return this.length-1},slidesSelector:function(t){return t.selList+" > *"},slides:function(){return g(this.list.children)}},methods:{show:function(t,e){var n=this;if(void 0===e&&(e=!1),!this.dragging&&this.length){var s=this.stack,o=e?0:s.length,r=function(){s.splice(o,1),s.length&&n.show(s.shift(),!0)};if(s[e?"unshift":"push"](t),!e&&s.length>1)2===s.length&&this._transitioner.forward(Math.min(this.duration,200));else{var a=this.index,u=f(this.slides,this.clsActive)&&this.slides[a],l=this.getIndex(t,this.index),d=this.slides[l];if(u!==d){if(this.dir=i(t,a),this.prevIndex=a,this.index=l,u&&x(u,"beforeitemhide",[this]),!x(d,"beforeitemshow",[this,u]))return this.index=this.prevIndex,void r();var c=this._show(u,d,e).then(function(){return u&&x(u,"itemhidden",[n]),x(d,"itemshown",[n]),new m(function(t){h.write(function(){s.shift(),s.length?n.show(s.shift(),!0):n._transitioner=null,t()})})});return u&&x(u,"itemhide",[this]),x(d,"itemshow",[this]),c}r()}}},getIndex:function(t,i){return void 0===t&&(t=this.index),void 0===i&&(i=this.index),a(c(t,this.slides,i,this.finite),0,this.maxIndex)},getValidIndex:function(t,i){return void 0===t&&(t=this.index),void 0===i&&(i=this.prevIndex),this.getIndex(t,i)},_show:function(t,i,e){if(this._transitioner=this._getTransitioner(t,i,this.dir,r({easing:e?i.offsetWidth<600?"cubic-bezier(0.25, 0.46, 0.45, 0.94)":"cubic-bezier(0.165, 0.84, 0.44, 1)":this.easing},this.transitionOptions)),!e&&!t)return this._transitioner.translate(1),m.resolve();var n=this.stack.length;return this._transitioner[n>1?"forward":"show"](n>1?Math.min(this.duration,75+75/(n-1)):this.duration,this.percent)},_getDistance:function(t,i){return new this._getTransitioner(t,t!==i&&i).getDistance()},_translate:function(t,i,e){void 0===i&&(i=this.prevIndex),void 0===e&&(e=this.index);var n=this._getTransitioner(i!==e&&i,e);return n.translate(t),n},_getTransitioner:function(t,i,e,n){return void 0===t&&(t=this.prevIndex),void 0===i&&(i=this.index),void 0===e&&(e=this.dir||1),void 0===n&&(n=this.transitionOptions),new this.Transitioner(p(t)?this.slides[t]:t,p(i)?this.slides[i]:i,e*(v?-1:1),n)}}}}}function n(t){return.5*t+300}function s(t){if(!s.installed){t.use(e);var i=t.mixin,n=t.util,o=n.addClass,r=n.assign,u=n.fastdom,l=n.isNumber,d=n.removeClass,c=a(t),f=h(t);t.mixin.slideshow={mixins:[i.slider],props:{animation:String},defaults:{animation:"slide",clsActivated:"uk-transition-active",Animations:c,Transitioner:f},computed:{animation:function(t){var i=t.animation,e=t.Animations;return r(i in e?e[i]:e.slide,{name:i})},transitionOptions:function(){return{animation:this.animation}}},events:{"itemshow itemhide itemshown itemhidden":function(i){var e=i.target;t.update(null,e)},itemshow:function(){l(this.prevIndex)&&u.flush()},beforeitemshow:function(t){var i=t.target;o(i,this.clsActive)},itemshown:function(t){var i=t.target;o(i,this.clsActivated)},itemhidden:function(t){var i=t.target;d(i,this.clsActive,this.clsActivated)}}}}}function o(t){function i(t,i,e,n){return'<iframe src="'+t+'" width="'+i+'" height="'+e+'" style="max-width: 100%; box-sizing: border-box;" frameborder="0" allowfullscreen uk-video="autoplay: '+n+'" uk-responsive></iframe>'}if(!o.installed){t.use(s);var e=t.mixin,n=t.util,r=n.$,a=n.addClass,h=n.ajax,u=n.append,l=n.assign,d=n.attr,f=n.css,p=n.doc,v=n.getImage,m=n.html,g=n.index,x=n.on,w=n.pointerDown,b=n.pointerMove,k=n.removeClass,y=n.Transition,I=n.trigger,_=c(t);t.component("lightbox-panel",{mixins:[e.container,e.modal,e.togglable,e.slideshow],functional:!0,defaults:{preload:1,videoAutoplay:!1,delayControls:3e3,items:[],cls:"uk-open",clsPage:"uk-lightbox-page",selList:".uk-lightbox-items",attrItem:"uk-lightbox-item",selClose:".uk-close-large",pauseOnHover:!1,velocity:2,Animations:_,template:'<div class="uk-lightbox uk-overflow-hidden"> <ul class="uk-lightbox-items"></ul> <div class="uk-lightbox-toolbar uk-position-top uk-text-right uk-transition-slide-top uk-transition-opaque"> <button class="uk-lightbox-toolbar-icon uk-close-large" type="button" uk-close></button> </div> <a class="uk-lightbox-button uk-position-center-left uk-position-medium uk-transition-fade" href="#" uk-slidenav-previous uk-lightbox-item="previous"></a> <a class="uk-lightbox-button uk-position-center-right uk-position-medium uk-transition-fade" href="#" uk-slidenav-next uk-lightbox-item="next"></a> <div class="uk-lightbox-toolbar uk-lightbox-caption uk-position-bottom uk-text-center uk-transition-slide-bottom uk-transition-opaque"></div> </div>'},created:function(){var t=this;this.$mount(u(this.container,this.template)),this.caption=r(".uk-lightbox-caption",this.$el),this.items.forEach(function(){return u(t.list,"<li></li>")})},events:[{name:b+" "+w+" keydown",handler:"showControls"},{name:"click",self:!0,delegate:function(){return this.slidesSelector},handler:function(t){t.preventDefault(),this.hide()}},{name:"shown",self:!0,handler:"showControls"},{name:"hide",self:!0,handler:function(){this.hideControls(),k(this.slides,this.clsActive),y.stop(this.slides)}},{name:"keyup",el:function(){return p},handler:function(t){if(this.isToggled(this.$el))switch(t.keyCode){case 37:this.show("previous");break;case 39:this.show("next")}}},{name:"beforeitemshow",handler:function(t){this.isToggled()||(this.preventCatch=!0,t.preventDefault(),this.toggleNow(this.$el,!0),this.animation=_.scale,k(t.target,this.clsActive),this.stack.splice(1,0,this.index))}},{name:"itemshow",handler:function(t){var i=this,e=t.target,n=g(e),s=this.getItem(n).caption;f(this.caption,"display",s?"":"none"),m(this.caption,s);for(var o=0;o<=this.preload;o++)i.loadItem(i.getIndex(n+o)),i.loadItem(i.getIndex(n-o))}},{name:"itemshown",handler:function(){this.preventCatch=!1}},{name:"itemload",handler:function(t,e){var n=this,s=e.source,o=e.type,a=e.alt;if(this.setItem(e,"<span uk-spinner></span>"),s){var u;if("image"===o||s.match(/\.(jp(e)?g|png|gif|svg)$/i))v(s).then(function(t){return n.setItem(e,'<img width="'+t.width+'" height="'+t.height+'" src="'+s+'" alt="'+(a||"")+'">')},function(){return n.setError(e)});else if("video"===o||s.match(/\.(mp4|webm|ogv)$/i)){var l=r("<video controls playsinline"+(e.poster?' poster="'+e.poster+'"':"")+' uk-video="autoplay: '+this.videoAutoplay+'"></video>');d(l,"src",s),x(l,"error",function(){return n.setError(e)}),x(l,"loadedmetadata",function(){d(l,{width:l.videoWidth,height:l.videoHeight}),n.setItem(e,l)})}else if("iframe"===o)this.setItem(e,'<iframe class="uk-lightbox-iframe" src="'+s+'" frameborder="0" allowfullscreen></iframe>');else if(u=s.match(/\/\/.*?youtube(-nocookie)?\.[a-z]+\/watch\?v=([^&\s]+)/)||s.match(/()youtu\.be\/(.*)/)){var c=u[2],f=function(t,s){return void 0===t&&(t=640),void 0===s&&(s=450),n.setItem(e,i("//www.youtube"+(u[1]||"")+".com/embed/"+c,t,s,n.videoAutoplay))};v("//img.youtube.com/vi/"+c+"/maxresdefault.jpg").then(function(t){var i=t.width,e=t.height;120===i&&90===e?v("//img.youtube.com/vi/"+c+"/0.jpg").then(function(t){var i=t.width,e=t.height;return f(i,e)},f):f(i,e)},f)}else(u=s.match(/(\/\/.*?)vimeo\.[a-z]+\/([0-9]+).*?/))&&h("//vimeo.com/api/oembed.json?maxwidth=1920&url="+encodeURI(s),{responseType:"json"}).then(function(t){var s=t.response,o=s.height,r=s.width;return n.setItem(e,i("//player.vimeo.com/video/"+u[2],r,o,n.videoAutoplay))})}}}],methods:{loadItem:function(t){void 0===t&&(t=this.index);var i=this.getItem(t);i.content||I(this.$el,"itemload",[i])},getItem:function(t){return void 0===t&&(t=this.index),this.items[t]||{}},setItem:function(i,e){l(i,{content:e});var n=m(this.slides[this.items.indexOf(i)],e);I(this.$el,"itemloaded",[this,n]),t.update(null,n)},setError:function(t){this.setItem(t,'<span uk-icon="icon: bolt; ratio: 2"></span>')},showControls:function(){clearTimeout(this.controlsTimer),this.controlsTimer=setTimeout(this.hideControls,this.delayControls),a(this.$el,"uk-active","uk-transition-active")},hideControls:function(){k(this.$el,"uk-active","uk-transition-active")}}})}}function r(t){function i(t,i){return t.length===i.length&&t.every(function(t,e){return t!==i[e]})}if(!r.installed){t.use(o);var e=t.util,n=e.$$,s=e.assign,a=e.data,h=e.index,u=t.components.lightboxPanel.options;t.component("lightbox",{attrs:!0,props:s({toggle:String},u.props),defaults:s({toggle:"a"},Object.keys(u.props).reduce(function(t,i){return t[i]=u.defaults[i],t},{})),computed:{toggles:function(t,i){var e=t.toggle;return n(e,i)}},disconnected:function(){this._destroy()},events:[{name:"click",delegate:function(){return this.toggle+":not(.uk-disabled)"},handler:function(t){t.preventDefault(),t.current.blur(),this.show(h(this.toggles,t.current))}}],update:function(t){this.panel&&this.animation&&(this.panel.$props.animation=this.animation,this.panel.$emit()),!this.panel||t.toggles&&i(t.toggles,this.toggles)||(t.toggles=this.toggles,this._destroy(),this._init())},methods:{_init:function(){return this.panel=this.panel||t.lightboxPanel(s({},this.$props,{items:this.toggles.reduce(function(t,i){return t.push(["href","caption","type","poster","alt"].reduce(function(t,e){return t["href"===e?"source":e]=a(i,e),t},{})),t},[])}))},_destroy:function(){this.panel&&(this.panel.$destroy(!0),this.panel=null)},show:function(t){return this.panel||this._init(),this.panel.show(t)},hide:function(){return this.panel&&this.panel.hide()}}})}}var a=function(i){var e=i.util.css,n={slide:{show:function(i){return[{transform:t(-100*i)},{transform:t()}]},percent:function(t){return n.translated(t)},translate:function(i,e){return[{transform:t(-100*e*i)},{transform:t(100*e*(1-i))}]}},translated:function(t){return Math.abs(e(t,"transform").split(",")[4]/t.offsetWidth)||0}};return n},h=function(t){function i(t,i,e){l(t,n(i,!1,!1,e))}var e=t.util,n=e.createEvent,s=e.clamp,o=e.css,r=e.Deferred,a=e.noop,h=e.Promise,u=e.Transition,l=e.trigger;return function(t,e,n,l){var d=l.animation,c=l.easing,f=d.percent,p=d.translate,v=d.show;void 0===v&&(v=a);var m=v(n),g=new r;return{dir:n,show:function(o,r,l){var d=this;void 0===r&&(r=0);var f=l?"linear":c;return o-=Math.round(o*s(r,-1,1)),this.translate(r),i(e,"itemin",{percent:r,duration:o,timing:f,dir:n}),i(t,"itemout",{percent:1-r,duration:o,timing:f,dir:n}),h.all([u.start(e,m[1],o,f),u.start(t,m[0],o,f)]).then(function(){d.reset(),g.resolve()},a),g.promise},stop:function(){return u.stop([e,t])},cancel:function(){u.cancel([e,t])},reset:function(){for(var i in m[0])o([e,t],i,"")},forward:function(i,n){return void 0===n&&(n=this.percent()),u.cancel([e,t]),this.show(i,n,!0)},translate:function(s){var r=p(s,n);o(e,r[1]),o(t,r[0]),i(e,"itemtranslatein",{percent:s,dir:n}),i(t,"itemtranslateout",{percent:1-s,dir:n})},percent:function(){return f(t||e,e,n)},getDistance:function(){return t.offsetWidth}}}},u=function(t){var i=t.util,e=i.doc,n=i.pointerDown;return{props:{autoplay:Boolean,autoplayInterval:Number,pauseOnHover:Boolean},defaults:{autoplay:!1,autoplayInterval:7e3,pauseOnHover:!0},connected:function(){this.startAutoplay()},disconnected:function(){this.stopAutoplay()},events:[{name:"visibilitychange",el:e,handler:function(){e.hidden?this.stopAutoplay():this.startAutoplay()}},{name:n,handler:"stopAutoplay"},{name:"mouseenter",filter:function(){return this.autoplay},handler:function(){this.isHovering=!0}},{name:"mouseleave",filter:function(){return this.autoplay},handler:function(){this.isHovering=!1}}],methods:{startAutoplay:function(){var t=this;this.stopAutoplay(),this.autoplay&&(this.interval=setInterval(function(){return!(t.isHovering&&t.pauseOnHover)&&!t.stack.length&&t.show("next")},this.autoplayInterval))},stopAutoplay:function(){this.interval&&clearInterval(this.interval)}}}},l=function(t){function i(t){return!t.children.length&&t.childNodes.length}var e=t.util,n=e.doc,s=e.getPos,o=e.includes,r=e.isRtl,a=e.isTouch,h=e.off,u=e.on,l=e.pointerDown,d=e.pointerMove,c=e.pointerUp,f=e.preventClick,p=e.trigger,v=e.win;return{defaults:{threshold:10,preventCatch:!1},init:function(){var t=this;["start","move","end"].forEach(function(i){var e=t[i];t[i]=function(i){var n=s(i).x*(r?-1:1);t.prevPos=n!==t.pos?t.pos:t.prevPos,t.pos=n,e(i)}})},events:[{name:l,delegate:function(){return this.slidesSelector},handler:function(t){!a(t)&&i(t.target)||t.button>0||this.length<2||this.preventCatch||this.start(t)}},{name:"dragstart",handler:function(t){t.preventDefault()}}],methods:{start:function(){this.drag=this.pos,this._transitioner?(this.percent=this._transitioner.percent(),this.drag+=this._transitioner.getDistance()*this.percent*this.dir,this._transitioner.translate(this.percent),this._transitioner.cancel(),this.dragging=!0,this.stack=[]):this.prevIndex=this.index,this.unbindMove=u(n,d,this.move,{capture:!0,passive:!1}),u(v,"scroll",this.unbindMove),u(n,c,this.end,!0)},move:function(t){var i=this,e=this.pos-this.drag;if(!(0===e||this.prevPos===this.pos||!this.dragging&&Math.abs(e)<this.threshold)){t.cancelable&&t.preventDefault(),this.dragging=!0,this.dir=e<0?1:-1;for(var n=this.slides,s=this.prevIndex,r=Math.abs(e),a=this.getIndex(s+this.dir,s),h=this._getDistance(s,a)||n[s].offsetWidth;a!==s&&r>h;)i.drag-=h*i.dir,s=a,r-=h,a=i.getIndex(s+i.dir,s),h=i._getDistance(s,a)||n[s].offsetWidth;this.percent=r/h;var u,l=n[s],d=n[a],c=this.index!==a,f=s===a;[this.index,this.prevIndex].filter(function(t){return!o([a,s],t)}).forEach(function(t){p(n[t],"itemhidden",[i]),u=!0,f&&(i.prevIndex=s)}),(this.index===s&&this.prevIndex!==s||u&&f)&&p(n[this.index],"itemshown",[this]),c&&(this.prevIndex=s,this.index=a,!f&&p(l,"beforeitemhide",[this]),p(d,"beforeitemshow",[this])),(u||this.length<3)&&this._transitioner&&this._transitioner.reset(),this._transitioner=this._translate(Math.abs(this.percent),l,!f&&d),c&&(!f&&p(l,"itemhide",[this]),p(d,"itemshow",[this]))}},end:function(){if(h(v,"scroll",this.unbindMove),this.unbindMove(),h(n,c,this.end,!0),this.dragging){if(this.dragging=null,this.index===this.prevIndex)this.percent=1-this.percent,this.dir*=-1,this._show(!1,this.index,!0),this._transitioner=null;else{var t=(r?this.dir*(r?1:-1):this.dir)<0==this.prevPos>this.pos;this.index=t?this.index:this.prevIndex,t&&(this.percent=1-this.percent),this.show(this.dir>0&&!t||this.dir<0&&t?"next":"previous",!0)}f()}this.drag=this.percent=null}}}},d=function(t){var i=t.util,e=i.$,n=i.$$,s=i.data,o=i.html,r=i.toggleClass,a=i.toNumber;return{defaults:{selNav:!1},computed:{nav:function(t,i){var n=t.selNav;return e(n,i)},navItemSelector:function(t){var i=t.attrItem;return"["+i+"],[data-"+i+"]"},navItems:function(t,i){return n(this.navItemSelector,i)}},update:[{write:function(){var t=this;this.nav&&this.length!==this.nav.children.length&&o(this.nav,this.slides.map(function(i,e){return"<li "+t.attrItem+'="'+e+'"><a href="#"></a></li>'}).join("")),r(n(this.navItemSelector,this.$el).concat(this.nav),"uk-hidden",!this.maxIndex),this.updateNav()},events:["load","resize"]}],events:[{name:"click",delegate:function(){return this.navItemSelector},handler:function(t){t.preventDefault(),t.current.blur(),this.show(s(t.current,this.attrItem))}},{name:"itemshow",handler:"updateNav"}],methods:{updateNav:function(){var t=this,i=this.getValidIndex();this.navItems.forEach(function(e){var n=s(e,t.attrItem);r(e,t.clsActive,a(n)===i),r(e,"uk-invisible",t.finite&&("previous"===n&&0===i||"next"===n&&i>=t.maxIndex))})}}}},c=function(t){var e=t.mixin,n=t.util,s=n.assign,o=n.css;return s({},e.slideshow.defaults.Animations,{fade:{show:function(){return[{opacity:0},{opacity:1}]},percent:function(t){return 1-o(t,"opacity")},translate:function(t){return[{opacity:1-t},{opacity:t}]}},scale:{show:function(){return[{opacity:0,transform:i(.8)},{opacity:1,transform:i(1)}]},percent:function(t){return 1-o(t,"opacity")},translate:function(t){return[{opacity:1-t,transform:i(1-.2*t)},{opacity:t,transform:i(.8+.2*t)}]}}})};return"undefined"!=typeof window&&window.UIkit&&window.UIkit.use(o),"undefined"!=typeof window&&window.UIkit&&window.UIkit.use(r),r});