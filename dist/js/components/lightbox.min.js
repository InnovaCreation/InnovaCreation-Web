/*! UIkit 3.0.0-beta.35 | http://www.getuikit.com | (c) 2014 - 2017 YOOtheme | MIT License */

!function(t,i){"object"==typeof exports&&"undefined"!=typeof module?module.exports=i():"function"==typeof define&&define.amd?define("uikitlightbox",i):t.UIkitLightbox=i()}(this,function(){"use strict";var t=function(t){var e=t.util.css,n={slide:{show:function(t){return[{transform:i(-100*t)},{transform:i()}]},percent:function(t){return n.translated(t)},translate:function(t,e){return[{transform:i(-100*e*t)},{transform:i(100*e*(1-t))}]}},translated:function(t){return Math.abs(e(t,"transform").split(",")[4]/t.offsetWidth)||0}};return n};function i(t,i){return void 0===t&&(t=0),void 0===i&&(i="%"),"translate("+t+(t?i:"")+", 0)"}function e(t){return"scale3d("+t+", "+t+", 1)"}function n(i){if(!n.installed){var e=i.util,s=e.$$,o=e.$,a=e.addClass,r=e.assign,h=e.createEvent,l=e.css,u=e.data,c=e.doc,d=e.endsWith,f=e.fastdom,m=e.getIndex,p=e.getPos,g=e.hasClass,v=e.index,k=e.isTouch,w=e.noop,x=e.off,b=e.on,y=e.pointerDown,I=e.pointerMove,A=e.pointerUp,$=e.preventClick,_=e.Promise,C=e.removeClass,L=e.toggleClass,T=e.toNodes,P=e.Transition,M=e.trigger,D=e.win,E=Math.abs;i.mixin.slideshow={attrs:!0,props:{autoplay:Boolean,autoplayInterval:Number,pauseOnHover:Boolean,animation:String,easing:String,velocity:Number},defaults:{autoplay:!1,autoplayInterval:7e3,pauseOnHover:!0,animation:"slide",easing:"ease",velocity:1,index:0,stack:[],threshold:10,percent:0,clsActive:"uk-active",clsActivated:"uk-transition-active",initialAnimation:!1,Animations:t(i)},computed:{list:function(t,i){var e=t.selList;return o(e,i)},slides:function(){return T(this.list.children)},animation:function(t){var i=t.animation,e=t.Animations;return r(i in e?e[i]:e.slide,{name:i})},duration:function(t,i){var e=t.velocity;return.5*(i.offsetWidth/e)+300}},init:function(){var t=this;["start","move","end"].forEach(function(i){var e=t[i];t[i]=function(i){var n=p(i).x;t.prevPos=n!==t.pos?t.pos:t.prevPos,t.pos=n,e(i)}})},connected:function(){this.startAutoplay()},disconnected:function(){this.stopAutoplay()},update:[{read:function(){delete this._computeds.duration},events:["load","resize"]}],events:[{name:"click",delegate:function(){return"["+this.attrItem+"],[data-"+this.attrItem+"]"},handler:function(t){t.preventDefault(),t.current.blur(),this.show(u(t.current,this.attrItem))}},{name:y,delegate:function(){return this.selList+" > *"},handler:function(t){(k(t)||(i=t.target,i.children.length||!i.childNodes.length))&&this.start(t);var i}},{name:"visibilitychange",el:c,handler:function(){c.hidden?this.stopAutoplay():this.startAutoplay()}},{name:y,handler:"stopAutoplay"},{name:"mouseenter",filter:function(){return this.autoplay},handler:function(){this.isHovering=!0}},{name:"mouseleave",filter:function(){return this.autoplay},handler:function(){this.isHovering=!1}},{name:"beforeitemshow",self:!0,delegate:function(){return this.selList+" > *"},handler:function(t){var i=t.target;a(i,this.clsActive)}},{name:"itemshown",self:!0,delegate:function(){return this.selList+" > *"},handler:function(t){var i=t.target;a(i,this.clsActivated)}},{name:"itemshow itemhide",self:!0,delegate:function(){return this.selList+" > *"},handler:function(t){var i=t.type,e=t.target;L(s("["+this.attrItem+'="'+v(e)+'"],[data-'+this.attrItem+'="'+v(e)+'"]',this.$el),this.clsActive,d(i,"show"))}},{name:"itemhidden",self:!0,delegate:function(){return this.selList+" > *"},handler:function(t){var i=t.target;C(i,this.clsActive),C(i,this.clsActivated)}},{name:"itemshow itemhide itemshown itemhidden",self:!0,delegate:function(){return this.selList+" > *"},handler:function(t){var e=t.target;i.update(null,e)}},{name:"dragstart",handler:function(t){t.preventDefault()}}],methods:{start:function(t){if(!(t.button>0||this.slides.length<2||this._animation&&this._animation.animation!==this.animation)){var i=0;if(this.stack.length){var e=this._animation,n=e.dir,s=e.percent,o=e.cancel,a=e.translate;i=s()*n,this.percent=E(i)*-n,this.stack.splice(0,this.stack.length),o(),a(E(i)),this.index=this.getIndex(this.index-n),this.dragging=!0}this.unbindMove=b(c,I,this.move,{capture:!0,passive:!1}),b(D,"scroll",this.unbindMove),b(c,A,this.end,!0),this.drag=this.pos+this.$el.offsetWidth*i}},move:function(t){var e=this,n=this.pos-this.drag;if(!(this.prevPos===this.pos||!this.dragging&&E(n)<this.threshold)){t.cancelable&&t.preventDefault(),this.dragging=!0;var s=n/this.$el.offsetWidth;if(this.percent!==s){var o=this.getIndex(this.index-N(this.percent)),a=this.getIndex(this.index-N(s)),r=this.slides[a],h=s<0?1:-1,l=m(s<0?"next":"previous",this.slides,a),u=this.slides[l];this.slides.forEach(function(t,i){return L(t,e.clsActive,i===a||i===l)}),this._animation&&this._animation.reset(),a!==o&&(M(this.slides[o],"itemhide",[this]),M(r,"itemshow",[this])),this._animation=new H(this.animation,this.easing,r,u,h,w),this._animation.translate(E(s%1)),this.percent=s,i.update(null,r),i.update(null,u)}}},end:function(){if(x(D,"scroll",this.unbindMove),this.unbindMove(),x(c,A,this.end,!0),this.dragging){var t=this.percent;this.percent=E(this.percent)%1,this.index=this.getIndex(this.index-N(t)),(this.percent<.1||t<0==this.pos>this.prevPos)&&(this.index=this.getIndex(t>0?"previous":"next"),this.percent=1-this.percent,t*=-1),this._animation&&this._animation.reset(),this.show(t>0?"previous":"next",!0),$()}this.drag=this.dragging=this.percent=null},show:function(t,i){var e=this;if(void 0===i&&(i=!1),i||!this.drag)if(this.stack[i?"unshift":"push"](t),!i&&this.stack.length>1)2===this.stack.length&&this._animation.forward(250);else{var n=this.index,s=this.getIndex(t),o=g(this.slides,"uk-active")&&this.slides[n],a=this.slides[s];if(o!==a){o&&M(o,"beforeitemhide",[this]),M(a,"beforeitemshow",[this]),this.index=s;var r=function(){o&&M(o,"itemhidden",[e]),M(a,"itemshown",[e]),f.write(function(){e.stack.shift(),e.stack.length?e.show(e.stack.shift(),!0):e._animation=null})};(o||this.initialAnimation)&&this._show(o?this.animation:this.Animations[this.initialAnimation],i?"cubic-bezier(0.165, 0.840, 0.440, 1.000)":this.easing,o,a,"next"===(h=t)?1:"previous"===h?-1:h<n?-1:1,this.stack.length>1,r);var h;o&&M(o,"itemhide",[this]),M(a,"itemshow",[this]),o||this.initialAnimation||r(),o&&f.flush()}else this.stack[i?"shift":"pop"]()}},_show:function(t,i,e,n,s,o,a){this._animation=new H(t,i,e,n,s,a),this._animation.show(e===n?300:o?150:this.duration,this.percent,o)},getIndex:function(t){return void 0===t&&(t=this.index),m(t,this.slides,this.index)},startAutoplay:function(){var t=this;this.stopAutoplay(),this.autoplay&&(this.interval=setInterval(function(){t.isHovering&&t.pauseOnHover||t.stack.length||t.show("next")},this.autoplayInterval))},stopAutoplay:function(){this.interval&&clearInterval(this.interval)}}}}function H(t,i,e,n,s,o){var a=t.percent,r=t.translate,h=(0,t.show)(s);return{animation:t,dir:s,current:e,next:n,show:function(t,a,r){var l=this;void 0===a&&(a=0);var u=r?"linear":i;return t-=Math.round(t*a),this.translate(a),j(n,"itemin",{percent:a,duration:t,ease:u,dir:s}),e&&j(e,"itemout",{percent:1-a,duration:t,ease:u,dir:s}),_.all([P.start(n,h[1],t,u),e&&P.start(e,h[0],t,u)]).then(function(){l.reset(),o()},w)},stop:function(){return P.stop([n,e])},cancel:function(){P.cancel([n,e])},reset:function(){for(var t in h[0])l([n,e],t,"")},forward:function(t){var i=this.percent();P.cancel([n,e]),this.show(t,i,!0)},translate:function(t){var i=r(t,s);l(n,i[1]),e&&l(e,i[0]),j(n,"itemtranslatein",{percent:t,dir:s}),e&&j(e,"itemtranslateout",{percent:1-t,dir:s})},percent:function(){return a(e,n,s)}}}function j(t,i,e){M(t,h(i,!1,!1,e))}function N(t){return~~t}}var s=function(t){var i=t.mixin,n=t.util,s=n.assign,o=n.css;return s({},i.slideshow.defaults.Animations,{fade:{show:function(){return[{opacity:0},{opacity:1}]},percent:function(t){return 1-o(t,"opacity")},translate:function(t){return[{opacity:1-t},{opacity:t}]}},scale:{show:function(){return[{opacity:0,transform:e(.8)},{opacity:1,transform:e(1)}]},percent:function(t){return 1-o(t,"opacity")},translate:function(t){return[{opacity:1-t,transform:e(1-.2*t)},{opacity:t,transform:e(.8+.2*t)}]}}})};function o(t){if(!o.installed){t.use(n);var i=t.mixin,e=t.util,a=e.$,r=e.$$,h=e.addClass,l=e.ajax,u=e.append,c=e.assign,d=e.attr,f=e.css,m=e.doc,p=e.docEl,g=e.data,v=e.getImage,k=e.html,w=e.index,x=e.on,b=e.pointerDown,y=e.pointerMove,I=e.removeClass,A=e.Transition,$=e.trigger;t.component("lightbox",{attrs:!0,props:{animation:String,container:Boolean,toggle:String,autoplay:Boolean,autoplayInterval:Number,videoAutoplay:Boolean},defaults:{animation:void 0,container:!0,toggle:"a",autoplay:0,videoAutoplay:!1},computed:{toggles:function(t,i){var e=t.toggle;return r(e,i)}},disconnected:function(){this._destroy()},events:[{name:"click",delegate:function(){return this.toggle+":not(.uk-disabled)"},handler:function(t){t.preventDefault(),t.current.blur(),this.show(w(this.toggles,t.current))}}],update:function(t){if(this.panel&&this.animation&&(this.panel.$props.animation=this.animation,this.panel.$emit()),!(!this.panel||t.toggles&&(i=t.toggles,e=this.toggles,i.length===e.length&&i.every(function(t,i){return t!==e[i]})))){var i,e;t.toggles=this.toggles,this._destroy(),this._init()}},methods:{_init:function(){return this.panel=this.panel||t.lightboxPanel(c({},this.$props,{items:this.toggles.reduce(function(t,i){return t.push(["href","caption","type","poster","alt"].reduce(function(t,e){return t["href"===e?"source":e]=g(i,e),t},{})),t},[])}))},_destroy:function(){this.panel&&(this.panel.$destroy(!0),this.panel=null)},show:function(t){return this.panel||this._init(),this.panel.show(t)},hide:function(){return this.panel&&this.panel.hide()}}}),t.component("lightbox-panel",{mixins:[i.container,i.togglable,i.slideshow],functional:!0,defaults:{preload:1,videoAutoplay:!1,delayControls:3e3,items:[],cls:"uk-open",clsPage:"uk-lightbox-page",selList:".uk-lightbox-items",attrItem:"uk-lightbox-item",initialAnimation:"scale",pauseOnHover:!1,velocity:2,Animations:s(t),template:'<div class="uk-lightbox uk-overflow-hidden"> <ul class="uk-lightbox-items"></ul> <div class="uk-lightbox-toolbar uk-position-top uk-text-right uk-transition-slide-top uk-transition-opaque"> <button class="uk-lightbox-toolbar-icon uk-close-large" type="button" uk-close uk-toggle="!.uk-lightbox"></button> </div> <a class="uk-lightbox-button uk-position-center-left uk-position-medium uk-transition-fade" href="#" uk-slidenav-previous uk-lightbox-item="previous"></a> <a class="uk-lightbox-button uk-position-center-right uk-position-medium uk-transition-fade" href="#" uk-slidenav-next uk-lightbox-item="next"></a> <div class="uk-lightbox-toolbar uk-lightbox-caption uk-position-bottom uk-text-center uk-transition-slide-bottom uk-transition-opaque"></div> </div>'},created:function(){var t=this;this.$mount(u(this.container,this.template)),this.caption=a(".uk-lightbox-caption",this.$el),this.items.forEach(function(i,e){return u(t.list,"<li></li>")})},events:[{name:y+" "+b+" keydown",handler:"showControls"},{name:"click",self:!0,delegate:function(){return this.selList+" > *"},handler:function(t){t.preventDefault(),this.hide()}},{name:"show",self:!0,handler:function(){h(p,this.clsPage)}},{name:"shown",self:!0,handler:"showControls"},{name:"hide",self:!0,handler:"hideControls"},{name:"hidden",self:!0,handler:function(){I(p,this.clsPage)}},{name:"keyup",el:function(){return m},handler:function(t){if(this.isToggled(this.$el))switch(t.keyCode){case 27:this.hide();break;case 37:this.show("previous");break;case 39:this.show("next")}}},{name:"toggle",handler:function(t){t.preventDefault(),this.toggle()}},{name:"beforeitemshow",self:!0,delegate:function(){return this.selList+" > *"},handler:function(){this.isToggled()||this.toggleNow(this.$el,!0)}},{name:"itemshow",self:!0,delegate:function(){return this.selList+" > *"},handler:function(t){var i=t.target,e=w(i),n=this.getItem(e).caption;f(this.caption,"display",n?"":"none"),k(this.caption,n);for(var s=0;s<=this.preload;s++)this.loadItem(this.getIndex(e+s)),this.loadItem(this.getIndex(e-s))}},{name:"itemload",handler:function(t,i){var e,n=this,s=i.source,o=i.type,r=i.alt;if(this.setItem(i,"<span uk-spinner></span>"),s)if("image"===o||s.match(/\.(jp(e)?g|png|gif|svg)$/i))v(s).then(function(t){return n.setItem(i,'<img width="'+t.width+'" height="'+t.height+'" src="'+s+'" alt="'+(r||"")+'">')},function(){return n.setError(i)});else if("video"===o||s.match(/\.(mp4|webm|ogv)$/i)){var h=a("<video controls playsinline"+(i.poster?' poster="'+i.poster+'"':"")+' uk-video="autoplay: '+this.videoAutoplay+'"></video>');d(h,"src",s),x(h,"error",function(){return n.setError(i)}),x(h,"loadedmetadata",function(){d(h,{width:h.videoWidth,height:h.videoHeight}),n.setItem(i,h)})}else if("iframe"===o)this.setItem(i,'<iframe class="uk-lightbox-iframe" src="'+s+'" frameborder="0" allowfullscreen></iframe>');else if(e=s.match(/\/\/.*?youtube\.[a-z]+\/watch\?v=([^&\s]+)/)||s.match(/youtu\.be\/(.*)/)){var u=e[1],c=function(t,e){return void 0===t&&(t=640),void 0===e&&(e=450),n.setItem(i,_("//www.youtube.com/embed/"+u,t,e,n.videoAutoplay))};v("//img.youtube.com/vi/"+u+"/maxresdefault.jpg").then(function(t){var i=t.width,e=t.height;120===i&&90===e?v("//img.youtube.com/vi/"+u+"/0.jpg").then(function(t){var i=t.width,e=t.height;return c(i,e)},c):c(i,e)},c)}else(e=s.match(/(\/\/.*?)vimeo\.[a-z]+\/([0-9]+).*?/))&&l("//vimeo.com/api/oembed.json?maxwidth=1920&url="+encodeURI(s),{responseType:"json"}).then(function(t){var s=t.response,o=s.height,a=s.width;return n.setItem(i,_("//player.vimeo.com/video/"+e[2],a,o,n.videoAutoplay))})}}],methods:{toggle:function(){return this.isToggled()?this.hide():this.show()},hide:function(){this.isToggled()&&this.toggleNow(this.$el,!1),I(this.slides,this.clsActive),A.stop(this.slides),delete this.index,delete this.percent,delete this._animation},loadItem:function(t){void 0===t&&(t=this.index);var i=this.getItem(t);i.content||$(this.$el,"itemload",[i])},getItem:function(t){return void 0===t&&(t=this.index),this.items[t]||{}},setItem:function(i,e){c(i,{content:e});var n=k(this.slides[this.items.indexOf(i)],e);$(this.$el,"itemloaded",[this,n]),t.update(null,n)},setError:function(t){this.setItem(t,'<span uk-icon="icon: bolt; ratio: 2"></span>')},showControls:function(){clearTimeout(this.controlsTimer),this.controlsTimer=setTimeout(this.hideControls,this.delayControls),d(r("["+this.attrItem+"],[data-"+this.attrItem+"]",this.$el),"hidden",this.items.length<2?"":null),h(this.$el,"uk-active","uk-transition-active")},hideControls:function(){I(this.$el,"uk-active","uk-transition-active")}}})}function _(t,i,e,n){return'<iframe src="'+t+'" width="'+i+'" height="'+e+'" style="max-width: 100%; box-sizing: border-box;" frameborder="0" allowfullscreen uk-video="autoplay: '+n+'" uk-responsive></iframe>'}}return"undefined"!=typeof window&&window.UIkit&&window.UIkit.use(o),o});