/*! UIkit 3.0.0-beta.35 | http://www.getuikit.com | (c) 2014 - 2017 YOOtheme | MIT License */

!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define("uikitslideshow",e):t.UIkitSlideshow=e()}(this,function(){"use strict";function t(e){if(!t.installed){var i=e.mixin,n=e.util,s=n.clamp,r=n.css,a=n.Dimensions,o=n.each,h=n.getImage,c=n.includes,u=n.isNumber,l=n.isUndefined,d=n.scrolledOver,f=n.toFloat,p=n.query,m=n.win,g=["x","y","bgx","bgy","rotate","scale","color","backgroundColor","borderColor","opacity","blur","hue","grayscale","invert","saturate","sepia","fopacity"];i.parallax={props:g.reduce(function(t,e){return t[e]="list",t},{media:"media"}),defaults:g.reduce(function(t,e){return t[e]=void 0,t},{media:!1}),computed:{props:function(t,e){var i=this;return g.reduce(function(n,s){if(l(t[s]))return n;var a,o,h,u=s.match(/color/i),d=u||"opacity"===s,p=t[s].slice(0);d&&r(e,s,""),p.length<2&&p.unshift(("scale"===s?1:d?r(e,s):0)||0);var m=c(p.join(""),"%")?"%":"px";if(u){var g=e.style.color;p=p.map(function(t){return r(r(e,"color",t),"color").split(/[(),]/g).slice(1,-1).concat(1).slice(0,4).map(function(t){return f(t)})}),e.style.color=g}else p=p.map(f);if(s.match(/^bg/))if(r(e,"background-position-"+s[2],""),o=r(e,"backgroundPosition").split(" ")["x"===s[2]?0:1],i.covers){var v=Math.min.apply(Math,p),x=Math.max.apply(Math,p),w=p.indexOf(v)<p.indexOf(x);h=x-v,p=p.map(function(t){return t-(w?v:x)}),a=(w?-h:0)+"px"}else a=o;return n[s]={steps:p,unit:m,pos:a,bgPos:o,diff:h},n},{})},bgProps:function(){var t=this;return["bgx","bgy"].filter(function(e){return e in t.props})},covers:function(t,e){return"cover"===r(""!==e.style.backgroundSize?r(e,"backgroundSize",""):e,"backgroundSize")}},disconnected:function(){delete this._image},update:[{read:function(t){var e=this;if(this._resetComputeds(),t.active=!this.media||m.matchMedia(this.media).matches,t.image&&(t.image.dimEl={width:this.$el.offsetWidth,height:this.$el.offsetHeight}),!("image"in t)&&this.covers&&this.bgProps.length){var i=r(this.$el,"backgroundImage").replace(/^none|url\(["']?(.+?)["']?\)$/,"$1");i&&(t.image=!1,h(i).then(function(i){t.image={width:i.naturalWidth,height:i.naturalHeight},e.$emit()}))}},write:function(t){var e=this,i=t.image,n=t.active;if(i)if(n){var s=i.dimEl,o=a.cover(i,s);this.bgProps.forEach(function(t){var n=e.props[t],r=n.diff,h=n.bgPos,c=n.steps,u="bgy"===t?"height":"width",l=o[u]-s[u];h.match(/%$|0px/)&&(l<r?s[u]=o[u]+r-l:l>r&&(h=parseFloat(h))&&(e.props[t].steps=c.map(function(t){return t-(l-r)/(100/h)})),o=a.cover(i,s))}),r(this.$el,{backgroundSize:o.width+"px "+o.height+"px",backgroundRepeat:"no-repeat"})}else r(this.$el,{backgroundSize:"",backgroundRepeat:""})},events:["load","resize"]}],methods:{reset:function(){var t=this;o(this.getCss(0),function(e,i){return r(t.$el,i,"")})},getCss:function(t){var e=!1,i=this.props;return Object.keys(i).reduce(function(n,s){var r=i[s],a=r.steps,o=r.unit,h=r.pos,c=x(a,t);switch(s){case"x":case"y":if(e)break;var u=["x","y"].map(function(e){return s===e?c+o:i[e]?x(i[e].steps,t)+i[e].unit:0}),l=u[0],d=u[1];e=n.transform+=" translate3d("+l+", "+d+", 0)";break;case"rotate":n.transform+=" rotate("+c+"deg)";break;case"scale":n.transform+=" scale("+c+")";break;case"bgy":case"bgx":n["background-position-"+s[2]]="calc("+h+" + "+(c+o)+")";break;case"color":case"backgroundColor":case"borderColor":var p=v(a,t),m=p[0],g=p[1],w=p[2];n[s]="rgba("+m.map(function(t,e){return t+=w*(g[e]-t),3===e?f(t):parseInt(t,10)}).join(",")+")";break;case"blur":n.filter+=" blur("+c+"px)";break;case"hue":n.filter+=" hue-rotate("+c+"deg)";break;case"fopacity":n.filter+=" opacity("+c+"%)";break;case"grayscale":case"invert":case"saturate":case"sepia":n.filter+=" "+s+"("+c+"%)";break;default:n[s]=c}return n},{transform:"",filter:""})}}},e.component("parallax",{mixins:[i.parallax],props:{target:String,viewport:Number,easing:Number},defaults:{target:!1,viewport:1,easing:1},computed:{target:function(t,e){var i=t.target;return i&&p(i,e)||e}},update:[{read:function(t){return{prev:t.percent,percent:(e=d(this.target)/(this.viewport||1),i=this.easing,s(e*(1-(i-i*e))))};var e,i},write:function(t,e){var i=t.prev,n=t.percent,s=t.active;"scroll"!==e.type&&(i=!1),s?i!==n&&r(this.$el,this.getCss(n)):this.reset()},events:["scroll","load","resize"]}]})}function v(t,e){var i=t.length-1,n=Math.min(Math.floor(i*e),i-1),s=t.slice(n,n+2);return s.push(1===e?1:e%(1/i)*i),s}function x(t,e){var i=v(t,e),n=i[0],s=i[1],r=i[2];return(u(n)?n+Math.abs(n-s)*r*(n<s?1:-1):+s).toFixed(2)}}"undefined"!=typeof window&&window.UIkit&&window.UIkit.use(t);var e=function(t){var e=t.util.css,n={slide:{show:function(t){return[{transform:i(-100*t)},{transform:i()}]},percent:function(t){return n.translated(t)},translate:function(t,e){return[{transform:i(-100*e*t)},{transform:i(100*e*(1-t))}]}},translated:function(t){return Math.abs(e(t,"transform").split(",")[4]/t.offsetWidth)||0}};return n};function i(t,e){return void 0===t&&(t=0),void 0===e&&(e="%"),"translate("+t+(t?e:"")+", 0)"}function n(t){return"scale3d("+t+", "+t+", 1)"}function s(t){if(!s.installed){var i=t.util,n=i.$$,r=i.$,a=i.addClass,o=i.assign,h=i.createEvent,c=i.css,u=i.data,l=i.doc,d=i.endsWith,f=i.fastdom,p=i.getIndex,m=i.getPos,g=i.hasClass,v=i.index,x=i.isTouch,w=i.noop,b=i.off,y=i.on,k=i.pointerDown,I=i.pointerMove,z=i.pointerUp,$=i.preventClick,A=i.Promise,M=i.removeClass,C=i.toggleClass,_=i.toNodes,H=i.Transition,P=i.trigger,S=i.win,L=Math.abs;t.mixin.slideshow={attrs:!0,props:{autoplay:Boolean,autoplayInterval:Number,pauseOnHover:Boolean,animation:String,easing:String,velocity:Number},defaults:{autoplay:!1,autoplayInterval:7e3,pauseOnHover:!0,animation:"slide",easing:"ease",velocity:1,index:0,stack:[],threshold:10,percent:0,clsActive:"uk-active",clsActivated:"uk-transition-active",initialAnimation:!1,Animations:e(t)},computed:{list:function(t,e){var i=t.selList;return r(i,e)},slides:function(){return _(this.list.children)},animation:function(t){var e=t.animation,i=t.Animations;return o(e in i?i[e]:i.slide,{name:e})},duration:function(t,e){var i=t.velocity;return.5*(e.offsetWidth/i)+300}},init:function(){var t=this;["start","move","end"].forEach(function(e){var i=t[e];t[e]=function(e){var n=m(e).x;t.prevPos=n!==t.pos?t.pos:t.prevPos,t.pos=n,i(e)}})},connected:function(){this.startAutoplay()},disconnected:function(){this.stopAutoplay()},update:[{read:function(){delete this._computeds.duration},events:["load","resize"]}],events:[{name:"click",delegate:function(){return"["+this.attrItem+"],[data-"+this.attrItem+"]"},handler:function(t){t.preventDefault(),t.current.blur(),this.show(u(t.current,this.attrItem))}},{name:k,delegate:function(){return this.selList+" > *"},handler:function(t){(x(t)||(e=t.target,e.children.length||!e.childNodes.length))&&this.start(t);var e}},{name:"visibilitychange",el:l,handler:function(){l.hidden?this.stopAutoplay():this.startAutoplay()}},{name:k,handler:"stopAutoplay"},{name:"mouseenter",filter:function(){return this.autoplay},handler:function(){this.isHovering=!0}},{name:"mouseleave",filter:function(){return this.autoplay},handler:function(){this.isHovering=!1}},{name:"beforeitemshow",self:!0,delegate:function(){return this.selList+" > *"},handler:function(t){var e=t.target;a(e,this.clsActive)}},{name:"itemshown",self:!0,delegate:function(){return this.selList+" > *"},handler:function(t){var e=t.target;a(e,this.clsActivated)}},{name:"itemshow itemhide",self:!0,delegate:function(){return this.selList+" > *"},handler:function(t){var e=t.type,i=t.target;C(n("["+this.attrItem+'="'+v(i)+'"],[data-'+this.attrItem+'="'+v(i)+'"]',this.$el),this.clsActive,d(e,"show"))}},{name:"itemhidden",self:!0,delegate:function(){return this.selList+" > *"},handler:function(t){var e=t.target;M(e,this.clsActive),M(e,this.clsActivated)}},{name:"itemshow itemhide itemshown itemhidden",self:!0,delegate:function(){return this.selList+" > *"},handler:function(e){var i=e.target;t.update(null,i)}},{name:"dragstart",handler:function(t){t.preventDefault()}}],methods:{start:function(t){if(!(t.button>0||this.slides.length<2||this._animation&&this._animation.animation!==this.animation)){var e=0;if(this.stack.length){var i=this._animation,n=i.dir,s=i.percent,r=i.cancel,a=i.translate;e=s()*n,this.percent=L(e)*-n,this.stack.splice(0,this.stack.length),r(),a(L(e)),this.index=this.getIndex(this.index-n),this.dragging=!0}this.unbindMove=y(l,I,this.move,{capture:!0,passive:!1}),y(S,"scroll",this.unbindMove),y(l,z,this.end,!0),this.drag=this.pos+this.$el.offsetWidth*e}},move:function(e){var i=this,n=this.pos-this.drag;if(!(this.prevPos===this.pos||!this.dragging&&L(n)<this.threshold)){e.cancelable&&e.preventDefault(),this.dragging=!0;var s=n/this.$el.offsetWidth;if(this.percent!==s){var r=this.getIndex(this.index-O(this.percent)),a=this.getIndex(this.index-O(s)),o=this.slides[a],h=s<0?1:-1,c=p(s<0?"next":"previous",this.slides,a),u=this.slides[c];this.slides.forEach(function(t,e){return C(t,i.clsActive,e===a||e===c)}),this._animation&&this._animation.reset(),a!==r&&(P(this.slides[r],"itemhide",[this]),P(o,"itemshow",[this])),this._animation=new W(this.animation,this.easing,o,u,h,w),this._animation.translate(L(s%1)),this.percent=s,t.update(null,o),t.update(null,u)}}},end:function(){if(b(S,"scroll",this.unbindMove),this.unbindMove(),b(l,z,this.end,!0),this.dragging){var t=this.percent;this.percent=L(this.percent)%1,this.index=this.getIndex(this.index-O(t)),(this.percent<.1||t<0==this.pos>this.prevPos)&&(this.index=this.getIndex(t>0?"previous":"next"),this.percent=1-this.percent,t*=-1),this._animation&&this._animation.reset(),this.show(t>0?"previous":"next",!0),$()}this.drag=this.dragging=this.percent=null},show:function(t,e){var i=this;if(void 0===e&&(e=!1),e||!this.drag)if(this.stack[e?"unshift":"push"](t),!e&&this.stack.length>1)2===this.stack.length&&this._animation.forward(250);else{var n=this.index,s=this.getIndex(t),r=g(this.slides,"uk-active")&&this.slides[n],a=this.slides[s];if(r!==a){r&&P(r,"beforeitemhide",[this]),P(a,"beforeitemshow",[this]),this.index=s;var o=function(){r&&P(r,"itemhidden",[i]),P(a,"itemshown",[i]),f.write(function(){i.stack.shift(),i.stack.length?i.show(i.stack.shift(),!0):i._animation=null})};(r||this.initialAnimation)&&this._show(r?this.animation:this.Animations[this.initialAnimation],e?"cubic-bezier(0.165, 0.840, 0.440, 1.000)":this.easing,r,a,"next"===(h=t)?1:"previous"===h?-1:h<n?-1:1,this.stack.length>1,o);var h;r&&P(r,"itemhide",[this]),P(a,"itemshow",[this]),r||this.initialAnimation||o(),r&&f.flush()}else this.stack[e?"shift":"pop"]()}},_show:function(t,e,i,n,s,r,a){this._animation=new W(t,e,i,n,s,a),this._animation.show(i===n?300:r?150:this.duration,this.percent,r)},getIndex:function(t){return void 0===t&&(t=this.index),p(t,this.slides,this.index)},startAutoplay:function(){var t=this;this.stopAutoplay(),this.autoplay&&(this.interval=setInterval(function(){t.isHovering&&t.pauseOnHover||t.stack.length||t.show("next")},this.autoplayInterval))},stopAutoplay:function(){this.interval&&clearInterval(this.interval)}}}}function W(t,e,i,n,s,r){var a=t.percent,o=t.translate,h=(0,t.show)(s);return{animation:t,dir:s,current:i,next:n,show:function(t,a,o){var c=this;void 0===a&&(a=0);var u=o?"linear":e;return t-=Math.round(t*a),this.translate(a),N(n,"itemin",{percent:a,duration:t,ease:u,dir:s}),i&&N(i,"itemout",{percent:1-a,duration:t,ease:u,dir:s}),A.all([H.start(n,h[1],t,u),i&&H.start(i,h[0],t,u)]).then(function(){c.reset(),r()},w)},stop:function(){return H.stop([n,i])},cancel:function(){H.cancel([n,i])},reset:function(){for(var t in h[0])c([n,i],t,"")},forward:function(t){var e=this.percent();H.cancel([n,i]),this.show(t,e,!0)},translate:function(t){var e=o(t,s);c(n,e[1]),i&&c(i,e[0]),N(n,"itemtranslatein",{percent:t,dir:s}),i&&N(i,"itemtranslateout",{percent:1-t,dir:s})},percent:function(){return a(i,n,s)}}}function N(t,e,i){P(t,h(e,!1,!1,i))}function O(t){return~~t}}var r=function(t){var e=t.mixin,s=t.util,r=s.assign,a=s.css,o=r({},e.slideshow.defaults.Animations,{fade:{show:function(){return[{opacity:0,zIndex:0},{zIndex:-1}]},percent:function(t){return 1-a(t,"opacity")},translate:function(t){return[{opacity:1-t,zIndex:0},{zIndex:-1}]}},scale:{show:function(){return[{opacity:0,transform:n(1.5),zIndex:0},{zIndex:-1}]},percent:function(t){return 1-a(t,"opacity")},translate:function(t){return[{opacity:1-t,transform:n(1+.5*t),zIndex:0},{zIndex:-1}]}},pull:{show:function(t){return t<0?[{transform:i(30),zIndex:-1},{transform:i(),zIndex:0}]:[{transform:i(-100),zIndex:0},{transform:i(),zIndex:-1}]},percent:function(t,e,i){return i<0?1-o.translated(e):o.translated(t)},translate:function(t,e){return e<0?[{transform:i(30*t),zIndex:-1},{transform:i(-100*(1-t)),zIndex:0}]:[{transform:i(100*-t),zIndex:0},{transform:i(30*(1-t)),zIndex:-1}]}},push:{show:function(t){return t<0?[{transform:i(100),zIndex:0},{transform:i(),zIndex:-1}]:[{transform:i(-30),zIndex:-1},{transform:i(),zIndex:0}]},percent:function(t,e,i){return i>0?1-o.translated(e):o.translated(t)},translate:function(t,e){return e<0?[{transform:i(100*t),zIndex:0},{transform:i(-30*(1-t)),zIndex:-1}]:[{transform:i(-30*t),zIndex:-1},{transform:i(100*(1-t)),zIndex:0}]}}});return o};function a(e){if(!a.installed){e.use(t),e.use(s);var i=e.mixin,n=e.util,o=n.closest,h=n.css,c=n.fastdom,u=n.endsWith,l=n.height,d=n.noop,f=n.Transition;e.component("slideshow",{mixins:[i.class,i.slideshow],props:{ratio:String,minHeight:Boolean,maxHeight:Boolean},defaults:{ratio:"16:9",minHeight:!1,maxHeight:!1,selList:".uk-slideshow-items",attrItem:"uk-slideshow-item",Animations:r(e)},ready:function(){var t=this;c.write(function(){return t.show(t.index)})},update:{read:function(){var t=this.ratio.split(":").map(Number),e=t[0],i=t[1];return i=i*this.$el.offsetWidth/e,this.minHeight&&(i=Math.max(this.minHeight,i)),this.maxHeight&&(i=Math.min(this.maxHeight,i)),{height:i}},write:function(t){var e=t.height;l(this.list,Math.floor(e))},events:["load","resize"]}}),e.component("slideshow-parallax",{mixins:[i.parallax],computed:{item:function(){var t=e.getComponent(o(this.$el,".uk-slideshow"),"slideshow");return t&&o(this.$el,t.selList+" > *")}},events:[{name:"itemshown",self:!0,el:function(){return this.item},handler:function(){h(this.$el,this.getCss(.5))}},{name:"itemin itemout",self:!0,el:function(){return this.item},handler:function(t){var e=t.type,i=t.detail,n=i.percent,s=i.duration,r=i.ease,a=i.dir;f.cancel(this.$el),h(this.$el,this.getCss(m(e,a,n))),f.start(this.$el,this.getCss(p(e)?.5:a>0?1:0),s,r).catch(d)}},{name:"transitioncanceled transitionend",self:!0,el:function(){return this.item},handler:function(){f.cancel(this.$el)}},{name:"itemtranslatein itemtranslateout",self:!0,el:function(){return this.item},handler:function(t){var e=t.type,i=t.detail,n=i.percent,s=i.dir;f.cancel(this.$el),h(this.$el,this.getCss(m(e,s,n)))}}]})}function p(t){return u(t,"in")}function m(t,e,i){return i/=2,p(t)?e<0?1-i:i:e<0?i:1-i}}return"undefined"!=typeof window&&window.UIkit&&window.UIkit.use(a),a});